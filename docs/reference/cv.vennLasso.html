<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cross Validation for the vennLasso — cv.vennLasso • vennLasso</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Cross Validation for the vennLasso — cv.vennLasso" />

<meta property="og:description" content="Cross Validation for the vennLasso" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vennLasso</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/using_the_vennLasso_package.pdf">Using the vennLasso Package (PDF)</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jaredhuling/vennLasso">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross Validation for the vennLasso</h1>
    <small>Source: <a href='https://github.com/jaredhuling/vennLasso/blob/master/R/cv_vennLasso.R'><code>R/cv_vennLasso.R</code></a></small>
    </div>

    
    <p>Cross Validation for the vennLasso</p>
    

    <pre class="usage"><span class='fu'>cv.vennLasso</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='no'>groups</span>, <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>compute.se</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>type.measure</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"mse"</span>, <span class='st'>"deviance"</span>, <span class='st'>"class"</span>, <span class='st'>"auc"</span>,
  <span class='st'>"mae"</span>, <span class='st'>"brier"</span>), <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='no'>foldid</span>, <span class='kw'>grouped</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>keep</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>input matrix or SparseMatrix of dimension nobs x nvars. Each row is an observation,
each column corresponds to a covariate</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>numeric response vector of length nobs</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>A list of length equal to the number of groups containing vectors of integers
indicating the variable IDs for each group. For example, groups=list(c(1,2), c(2,3), c(3,4,5)) specifies
that Group 1 contains variables 1 and 2, Group 2 contains variables 2 and 3, and Group 3 contains
variables 3, 4, and 5. Can also be a matrix of 0s and 1s with the number of columns equal to the
number of groups and the number of rows equal to the number of variables. A value of 1 in row i and
column j indicates that variable i is in group j and 0 indicates that variable i is not in group j.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>A user-specified sequence of lambda values. Left unspecified, the a sequence of lambda values is
automatically computed, ranging uniformly on the log scale over the relevant range of lambda values.</p></td>
    </tr>
    <tr>
      <th>compute.se</th>
      <td><p>logical flag. If <code>TRUE</code>, standard errors will be computed, otherwise if <code>FALSE</code> they will not</p></td>
    </tr>
    <tr>
      <th>conf.int</th>
      <td><p>value between 0 and 1 indicating the level of the confidence intervals to be computed. For example
if <code>conf.int = 0.95</code>, 95 percent confidence intervals will be computed.</p></td>
    </tr>
    <tr>
      <th>type.measure</th>
      <td><p>One of <code>c("mse","deviance","class","auc","mae","brier")</code> indicating measure to evaluate for cross-validation. The default is <code>type.measure = "deviance"</code>, 
which uses squared-error for gaussian models (a.k.a <code>type.measure = "mse"</code> there), deviance for logistic
regression. <code>type.measure = "class"</code> applies to binomial only. <code>type.measure = "auc"</code> is for two-class logistic 
regression only. <code>type.measure = "mse"</code> or <code>type.measure = "mae"</code> (mean absolute error) can be used by all models;
they measure the deviation from the fitted mean to the response. <code>type.measure = "brier"</code> is for models with 
<code>family = "coxph"</code> and will compute the Brier score.</p></td>
    </tr>
    <tr>
      <th>nfolds</th>
      <td><p>number of folds for cross-validation. default is 10. 3 is smallest value allowed.</p></td>
    </tr>
    <tr>
      <th>foldid</th>
      <td><p>an optional vector of values between 1 and nfold specifying which fold each observation belongs to.</p></td>
    </tr>
    <tr>
      <th>grouped</th>
      <td><p>Like in <span class="pkg">glmnet</span>, this is an experimental argument, with default <code>TRUE</code>, and can be ignored by most users. 
For all models, this refers to computing nfolds separate statistics, and then using their mean and estimated standard 
error to describe the CV curve. If <code>grouped = FALSE</code>, an error matrix is built up at the observation level from the 
predictions from the <code>nfold</code> fits, and then summarized (does not apply to <code>type.measure = "auc"</code>).</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>If <code>keep = TRUE</code>, a prevalidated list of arrasy is returned containing fitted values for each observation 
and each value of lambda for each model. This means these fits are computed with this observation and the rest of its
fold omitted. The folid vector is also returned. Default is <code>keep = FALSE</code></p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>If TRUE, use parallel foreach to fit each fold. Must register parallel before hand, such as <span class="pkg">doMC</span>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>parameters to be passed to vennLasso</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object with S3 class "cv.vennLasso"</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>Matrix</span>)

<span class='fu'>set.seed</span>(<span class='fl'>123</span>)
<span class='no'>n.obs</span> <span class='kw'>&lt;-</span> <span class='fl'>150</span>
<span class='no'>n.vars</span> <span class='kw'>&lt;-</span> <span class='fl'>25</span>

<span class='no'>true.beta.mat</span> <span class='kw'>&lt;-</span> <span class='fu'>array</span>(<span class='fl'>NA</span>, <span class='kw'>dim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>3</span>, <span class='no'>n.vars</span>))
<span class='no'>true.beta.mat</span>[<span class='fl'>1</span>,] <span class='kw'>&lt;-</span> <span class='fu'>c</span>(-<span class='fl'>0.5</span>, -<span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>2</span>, <span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='no'>n.vars</span> - <span class='fl'>5</span>))
<span class='no'>true.beta.mat</span>[<span class='fl'>2</span>,] <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>0.5</span>, <span class='fl'>0.5</span>, -<span class='fl'>0.5</span>, -<span class='fl'>0.5</span>, <span class='fl'>1</span>, -<span class='fl'>1</span>, <span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='no'>n.vars</span> - <span class='fl'>6</span>))
<span class='no'>true.beta.mat</span>[<span class='fl'>3</span>,] <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, -<span class='fl'>1</span>, <span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='no'>n.vars</span> - <span class='fl'>5</span>))
<span class='fu'>rownames</span>(<span class='no'>true.beta.mat</span>) <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"1,0"</span>, <span class='st'>"1,1"</span>, <span class='st'>"0,1"</span>)
<span class='no'>true.beta</span> <span class='kw'>&lt;-</span> <span class='fu'>as.vector</span>(<span class='fu'>t</span>(<span class='no'>true.beta.mat</span>))

<span class='no'>x.sub1</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>rnorm</span>(<span class='no'>n.obs</span> * <span class='no'>n.vars</span>), <span class='no'>n.obs</span>, <span class='no'>n.vars</span>)
<span class='no'>x.sub2</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>rnorm</span>(<span class='no'>n.obs</span> * <span class='no'>n.vars</span>), <span class='no'>n.obs</span>, <span class='no'>n.vars</span>)
<span class='no'>x.sub3</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>rnorm</span>(<span class='no'>n.obs</span> * <span class='no'>n.vars</span>), <span class='no'>n.obs</span>, <span class='no'>n.vars</span>)

<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>as.matrix</span>(<span class='fu'>rbind</span>(<span class='no'>x.sub1</span>, <span class='no'>x.sub2</span>, <span class='no'>x.sub3</span>))

<span class='no'>conditions</span> <span class='kw'>&lt;-</span> <span class='fu'>as.matrix</span>(<span class='fu'>cbind</span>(<span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>1</span>, <span class='fl'>2</span> * <span class='no'>n.obs</span>), <span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='no'>n.obs</span>)),
                              <span class='fu'>c</span>(<span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='no'>n.obs</span>), <span class='fu'>rep</span>(<span class='fl'>1</span>, <span class='fl'>2</span> * <span class='no'>n.obs</span>))))

<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='fu'>rnorm</span>(<span class='no'>n.obs</span> * <span class='fl'>3</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>3</span>) + <span class='fu'>drop</span>(<span class='fu'>as.matrix</span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/Matrix/topics/bdiag'>bdiag</a></span>(<span class='no'>x.sub1</span>, <span class='no'>x.sub2</span>, <span class='no'>x.sub3</span>)) <span class='kw'>%*%</span> <span class='no'>true.beta</span>)

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>cv.vennLasso</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>conditions</span>, <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>3</span>)

<span class='no'>fitted.coef</span> <span class='kw'>&lt;-</span> <span class='fu'>predict</span>(<span class='no'>fit</span>$<span class='no'>vennLasso.fit</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"coefficients"</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='no'>fit</span>$<span class='no'>lambda.min</span>)
(<span class='no'>true.coef</span> <span class='kw'>&lt;-</span> <span class='no'>true.beta.mat</span>[<span class='fu'>match</span>(<span class='fu'>dimnames</span>(<span class='no'>fit</span>$<span class='no'>vennLasso.fit</span>$<span class='no'>beta</span>)<span class='kw'>[[</span><span class='fl'>1</span>]],
                                  <span class='fu'>rownames</span>(<span class='no'>true.beta.mat</span>)),])</div><div class='output co'>#&gt;     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
#&gt; 0,1  0.0  0.0  1.0  1.0   -1    0    0    0    0     0     0     0     0     0
#&gt; 1,0 -0.5 -1.0  0.0  0.0    2    0    0    0    0     0     0     0     0     0
#&gt; 1,1  0.5  0.5 -0.5 -0.5    1   -1    0    0    0     0     0     0     0     0
#&gt;     [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
#&gt; 0,1     0     0     0     0     0     0     0     0     0     0     0
#&gt; 1,0     0     0     0     0     0     0     0     0     0     0     0
#&gt; 1,1     0     0     0     0     0     0     0     0     0     0     0</div><div class='input'><span class='fu'>round</span>(<span class='no'>fitted.coef</span>, <span class='fl'>2</span>)</div><div class='output co'>#&gt; , , 1
#&gt; 
#&gt;     (Intercept)    V1    V2    V3    V4    V5    V6 V7 V8 V9   V10   V11 V12
#&gt; 0,1       -0.26  0.00  0.00  0.54  0.54 -0.46  0.00  0  0  0 -0.13  0.03   0
#&gt; 1,0        0.12 -0.29 -0.74  0.00  0.00  1.53  0.09  0  0  0  0.07  0.00   0
#&gt; 1,1        0.07  0.41  0.67 -0.28 -0.42  1.04 -0.92  0  0  0  0.02 -0.01   0
#&gt;     V13   V14  V15  V16 V17 V18   V19 V20 V21   V22 V23 V24   V25
#&gt; 0,1   0  0.02 0.00 0.00   0   0  0.00   0   0 -0.04   0   0  0.09
#&gt; 1,0   0 -0.07 0.00 0.00   0   0  0.07   0   0 -0.04   0   0 -0.33
#&gt; 1,1   0  0.38 0.01 0.13   0   0 -0.01   0   0 -0.35   0   0  0.04
#&gt; </div><div class='input'>
<span class='co'>## effects smaller for logistic regression</span>
<span class='no'>true.beta.mat</span> <span class='kw'>&lt;-</span> <span class='no'>true.beta.mat</span> / <span class='fl'>2</span>
<span class='no'>true.beta</span> <span class='kw'>&lt;-</span> <span class='no'>true.beta</span> / <span class='fl'>2</span>
<span class='co'># logistic regression example#'</span>
<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='fu'>rbinom</span>(<span class='no'>n.obs</span> * <span class='fl'>3</span>, <span class='fl'>1</span>,
       <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>1</span> / (<span class='fl'>1</span> + <span class='fu'>exp</span>(-<span class='fu'>drop</span>(<span class='fu'>as.matrix</span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/Matrix/topics/bdiag'>bdiag</a></span>(<span class='no'>x.sub1</span>, <span class='no'>x.sub2</span>, <span class='no'>x.sub3</span>)) <span class='kw'>%*%</span> <span class='no'>true.beta</span>))))

<span class='no'>bfit</span> <span class='kw'>&lt;-</span> <span class='fu'>cv.vennLasso</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='no'>conditions</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>,
                     <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>3</span>)

<span class='no'>fitted.coef</span> <span class='kw'>&lt;-</span> <span class='fu'>predict</span>(<span class='no'>bfit</span>$<span class='no'>vennLasso.fit</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"coefficients"</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='no'>bfit</span>$<span class='no'>lambda.min</span>)
(<span class='no'>true.coef</span> <span class='kw'>&lt;-</span> <span class='no'>true.beta.mat</span>[<span class='fu'>match</span>(<span class='fu'>dimnames</span>(<span class='no'>bfit</span>$<span class='no'>vennLasso.fit</span>$<span class='no'>beta</span>)<span class='kw'>[[</span><span class='fl'>1</span>]],
                                  <span class='fu'>rownames</span>(<span class='no'>true.beta.mat</span>)),])</div><div class='output co'>#&gt;      [,1]  [,2]  [,3]  [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
#&gt; 0,1  0.00  0.00  0.50  0.50 -0.5  0.0    0    0    0     0     0     0     0
#&gt; 1,0 -0.25 -0.50  0.00  0.00  1.0  0.0    0    0    0     0     0     0     0
#&gt; 1,1  0.25  0.25 -0.25 -0.25  0.5 -0.5    0    0    0     0     0     0     0
#&gt;     [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
#&gt; 0,1     0     0     0     0     0     0     0     0     0     0     0     0
#&gt; 1,0     0     0     0     0     0     0     0     0     0     0     0     0
#&gt; 1,1     0     0     0     0     0     0     0     0     0     0     0     0</div><div class='input'><span class='fu'>round</span>(<span class='no'>fitted.coef</span>, <span class='fl'>2</span>)</div><div class='output co'>#&gt; , , 1
#&gt; 
#&gt;     (Intercept)    V1 V2    V3    V4    V5    V6    V7    V8    V9   V10   V11
#&gt; 0,1       -0.14  0.00  0  0.31  0.41 -0.24 -0.10  0.00 -0.01  0.01 -0.01  0.03
#&gt; 1,0       -0.15  0.00  0 -0.08  0.21  0.56  0.06  0.00  0.00  0.06  0.00 -0.03
#&gt; 1,1        0.05 -0.05  0 -0.23 -0.26  0.74 -0.53 -0.14 -0.01 -0.09  0.00  0.00
#&gt;     V12 V13 V14   V15 V16 V17 V18 V19  V20 V21   V22  V23   V24   V25
#&gt; 0,1   0   0   0  0.00   0   0   0   0 0.00   0  0.00 0.10 -0.10  0.01
#&gt; 1,0   0   0   0 -0.02   0   0   0   0 0.00   0 -0.03 0.00  0.00 -0.11
#&gt; 1,1   0   0   0 -0.10   0   0   0   0 0.04   0  0.01 0.14  0.33  0.14
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jared Huling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

